(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+Rg0":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n#app, #main {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  width: 100%!important;\n  height: 100%!important;\n}\n#loading-screen {\n  display: none;\n}\n",""])},"+Xh5":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".sending[data-v-714fe997] {\n  position: absolute;\n  left: 60px;\n  bottom: 10px;\n  z-index: 9999;\n}",""])},0:function(t,e,n){n("bUC5"),t.exports=n("pyCd")},"21ss":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.my-layout[data-v-13540ec3] {\r\n  width: 100%;\r\n  height: 100%;\r\n  padding-left: 300px;\r\n  transition: padding 0.3s ease;\n}\n.menuclosed[data-v-13540ec3] {\r\n  padding-left: 50px;\n}\n.v-sidebar-menu[data-v-13540ec3] {\r\n  z-index: 1;\n}\n.tips[data-v-13540ec3] {\r\n  width: 300px;\r\n  height: 300px;\r\n  left: 50%;\r\n  top: 50%;\r\n  margin-left: -150px;\r\n  margin-top: -150px;\r\n  position: absolute;\r\n  z-index: 2;\n}\n.config[data-v-13540ec3] {\r\n  width: 400px;\r\n  min-height: 300px;\r\n  left: 50%;\r\n  top: 50%;\r\n  margin-left: -200px;\r\n  margin-top: -150px;\r\n  position: absolute;\r\n  z-index: 2;\n}\n.port-warning[data-v-13540ec3] {\r\n  position: absolute;\r\n  right: 30px;\r\n  bottom: 10px;\r\n  z-index: 9999;\n}\r\n",""])},"3jBW":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n#loading {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    background: rgba(255, 255, 240, .5);\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n}\n.loading {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n}\n.loading-bar {\n    display: inline-block;\n    width: 4px;\n    height: 18px;\n    border-radius: 4px;\n    animation: loading 1s ease-in-out infinite;\n}\n.loading-bar:nth-child(1) {\n    background-color: #3498db;\n    animation-delay: 0;\n}\n.loading-bar:nth-child(2) {\n    background-color: #c0392b;\n    animation-delay: 0.09s;\n}\n.loading-bar:nth-child(3) {\n    background-color: #f1c40f;\n    animation-delay: .18s;\n}\n.loading-bar:nth-child(4) {\n    background-color: #27ae60;\n    animation-delay: .27s;\n}\n@keyframes loading {\n0% {\n        transform: scale(1);\n}\n20% {\n        transform: scale(1, 2.2);\n}\n40% {\n        transform: scale(1);\n}\n}\n",""])},GHTx:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n#login[data-v-69a7db7a] {\n    width: 100%;\n    height: 100%;\n    background-color: #28a745;\n    /* background-image: url('/images/maxresdefault.jpg'); */\n    background-repeat: no-repeat;\n    background-size: cover;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    overflow-y: scroll;\n}\n.pub-block[data-v-69a7db7a] {\n    flex: 1;\n    height: 100%;\n    background: #000;\n    border-top: 5px solid #fff;\n    border-left: 5px solid #fff;\n    border-bottom: 5px solid #fff;\n    box-sizing: border-box;\n}\n.title[data-v-69a7db7a] {\n    text-align: center;\n}\nh1[data-v-69a7db7a] {\n    font-weight: 300;\n    font-family: \"Metric\", Helvetica, Arial, sans-serif;\n    line-height: .8em;\n    letter-spacing: -0.02em;\n}\n.k-button[data-v-69a7db7a], .status[data-v-69a7db7a] {\n    margin-top: 10px;\n}\n.invalid[data-v-69a7db7a] {\n    color: red;\n}\n.valid[data-v-69a7db7a] {\n    color: green;\n}\n.ticketsForm[data-v-69a7db7a] {\n    margin: 0 10px;\n    display: flex;\n    flex-direction: column;\n}\n.ticketsForm  > div[data-v-69a7db7a] {\n    align-self: center;\n    width: 70%;\n    margin-top: 15px;\n}\n.ticketsForm  input[data-v-69a7db7a] {\n    margin-top: 5px;\n    width: 100%;\n}\n.licence[data-v-69a7db7a] {\n    font-size: .8em;\n    color: rgba(0, 0, 0, .8)\n}\n.licence a[data-v-69a7db7a] {\n    color: #000;\n    outline: none;\n}\n@keyframes spin-69a7db7a {\nfrom {transform:rotate(0deg);}\nto {transform:rotate(360deg);}\n}\n.k-icon.k-i-reload[data-v-69a7db7a] {\n    animation: spin-69a7db7a .6s infinite linear;\n}\n.error[data-v-69a7db7a] {\n    color: red;\n    margin: 0 5px 0 5px;\n}\n.tips[data-v-69a7db7a] {\n    width: 300px;\n    height: 350px;\n    left: 50%;\n    top: 50%;\n    margin-left: -150px;\n    margin-top: -150px;\n    position: absolute;\n    z-index: 2;\n}\n",""])},H0LB:function(t,e,n){var r=n("+Rg0");"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(t.exports=r.locals)},RtRO:function(t,e,n){var r=n("+Xh5");"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(t.exports=r.locals)},"V/EC":function(t,e,n){"use strict";n("dkJI")},"WD6/":function(t,e,n){"use strict";n("t5to")},bUC5:function(t,e,n){"use strict";n.r(e);var r=n("XuX8"),o=n.n(r),i=n("3LiA"),a=n.n(i),s=n("jE9Z"),c=n("L2JU");function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d={data:function(){return{UserName:"",Password:"",showTips:!1,twoFactor:!1,Code:"",UserID:null,logo:"/images/".concat(window.myprovider,".png")}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(c.d)({status:function(t){return t.auth.status}})),methods:{validate:function(){return""!=this.UserName&&""!=this.Password},onSubmit:function(t){var e=this;if(t.preventDefault(),this.validate()){var n=this.UserName,r=this.Password;this.$store.dispatch("auth/login",{UserName:n,Password:r}).then((function(t){e.twoFactor=!0,e.UserID=t.data.id})).catch((function(t){t.response?e.$toasted.global.my_app_error({message:t.response.data.message}):e.$toasted.global.my_app_error({message:"Network Error, please check your internet."})}))}else this.$toasted.global.my_app_error({message:"Veuillez entrer vos informations!"})},OnCodeValidate:function(t){var e=this;t.preventDefault(),this.Code?this.$store.dispatch("auth/verifyCode",{Code:this.Code,UserID:this.UserID}).then((function(){e.$router.push("/")})).catch((function(t){t.response?e.$toasted.global.my_app_error({message:t.response.data.message}):e.$toasted.global.my_app_error({message:"Network Error, please check your internet."})})):this.$toasted.global.my_app_error({message:"Enter le code recu par sms"})},logout:function(){var t=this;this.$store.dispatch("auth/logout").then((function(){t.$router.push("/login")}))},onDragged:function(t){var e=t.el,n=t.deltaX,r=t.deltaY,o=(t.offsetX,t.offsetY,t.clientX,t.clientY,t.first),i=t.last;if(o)this.isDragging=!0;else if(i)this.isDragging=!1;else{var a=+window.getComputedStyle(e).left.slice(0,-2)||0,s=+window.getComputedStyle(e).top.slice(0,-2)||0;e.style.left=a+n+"px",e.style.top=s+r+"px"}}}},p=(n("WD6/"),n("KHd+")),m=Object(p.a)(d,(function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"login"}},[e("div",{staticClass:"row w-75 bg-light rounded"},[e("div",{staticClass:"col-12 col-md-6 bg-dark d-flex justify-content-center align-items-center py-5"},[e("div",{staticClass:"d-flex flex-column text-center pt-2"},[e("img",{staticClass:"mx-auto",attrs:{src:t.logo,width:"192",height:"192"}}),t._v(" "),e("h1",{staticClass:"mt-2 text-white"},[t._v("\n                    Soficom\n                ")])])]),t._v(" "),e("div",{staticClass:"col-12 col-md-6 py-5"},[t._m(0),t._v(" "),t.twoFactor?e("form",{ref:"codeForm mt-5",staticClass:"ticketsForm",on:{submit:function(e){return e.preventDefault(),t.OnCodeValidate.apply(null,arguments)}}},[e("div",[e("label",{attrs:{for:"code"}},[t._v("Entrez le code")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Code,expression:"Code"}],staticClass:"k-textbox",attrs:{type:"text",id:"code",name:"text"},domProps:{value:t.Code},on:{input:function(e){e.target.composing||(t.Code=e.target.value)}}})]),t._v(" "),e("div",["loading"!==t.status?e("button",{staticClass:"btn btn-dark",attrs:{type:"submit"}},[e("i",{staticClass:"fa fa-sign-in-alt"}),t._v(" Verifier\n                    ")]):e("p",{staticStyle:{color:"green"}},[e("span",{staticClass:"k-icon k-i-reload"}),t._v(" Verification\n                    ")])])]):e("form",{ref:"myForm",staticClass:"ticketsForm",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("div",[e("label",{attrs:{for:"identification"}},[t._v("Identifiant")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.UserName,expression:"UserName"}],staticClass:"k-textbox",attrs:{type:"text",id:"identification",name:"text"},domProps:{value:t.UserName},on:{input:function(e){e.target.composing||(t.UserName=e.target.value)}}})]),t._v(" "),e("div",[e("label",{attrs:{for:"identification"}},[t._v("Mot de passe")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Password,expression:"Password"}],staticClass:"k-textbox",attrs:{type:"password",id:"password",name:"password"},domProps:{value:t.Password},on:{input:function(e){e.target.composing||(t.Password=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"licence"},[t._v("\n                    En cliquant sur Connexion, vous acceptez notre \n                    "),e("a",{attrs:{href:"#"}},[t._v("accord de licence.")]),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showTips=!0}}},[t._v("J'ai oublié mon identifiant ou mon mot de passe.")])]),t._v(" "),e("div",["loading"!==t.status?e("button",{staticClass:"btn btn-dark",attrs:{type:"submit"}},[e("i",{staticClass:"fa fa-sign-in-alt"}),t._v(" Connexion\n                    ")]):e("p",{staticStyle:{color:"green"}},[e("span",{staticClass:"k-icon k-i-reload"}),t._v(" Verification\n                    ")])])])])]),t._v(" "),t.showTips?e("div",{directives:[{name:"dragged",rawName:"v-dragged",value:t.onDragged,expression:"onDragged"}],staticClass:"tips"},[e("div",{staticClass:"card text-white bg-danger mb-3 w-100 h-100",staticStyle:{"max-width":"18rem"}},[t._m(1),t._v(" "),t._m(2),t._v(" "),e("div",{staticClass:"card-footer text-right"},[e("button",{staticClass:"btn btn-default btn-sm text-light",on:{click:function(e){t.showTips=!1}}},[t._v("Fermer")])])])]):t._e()])}),[function(){var t=this._self._c;return t("div",{staticClass:"title"},[t("h1",[this._v("Connexion")])])},function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("i",{staticClass:"fa fa-question-circle"}),this._v(" Aide")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-body"},[e("p",[t._v("Pour des mesures de securiter veuillez contacter ces numeros:")]),t._v(" "),e("table",{staticClass:"table table-striped table-borderless table-hover table-sm"},[e("tbody",[e("tr",[e("td",[t._v("Tel 1")]),t._v(" "),e("td",[t._v("0818303419")])]),t._v(" "),e("tr",[e("td",[t._v("Tel 2")]),t._v(" "),e("td",[t._v("0818303447")])]),t._v(" "),e("tr",[e("td",[t._v("Tel 3")]),t._v(" "),e("td",[t._v("0817300081")])])])])])}],!1,null,"69a7db7a",null).exports,h=n("R3Y3");n("UTJ8");function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w={components:{SidebarMenu:h.SidebarMenu},data:function(){return{showTips:!1,collapsed:!0,menuConstructor:[{header:!0,title:"Main Navigation"},{title:"Transactions",icon:"fa fa-money-bill-alt",child:[{href:"/transactions/usd",title:"USD"},{href:"/transactions/fc",title:"FC"}]},{title:"SMS",icon:"fa fa-envelope",href:"/sms",simpleAdmin:!0},{title:"Phone Type",icon:"fa fa-phone",href:"/phone_types",superAdmin:!0},{href:"/users",title:"Utilisateurs",icon:"fa fa-user",superAdmin:!0},{title:"Charger des données",icon:"fa fa-download",action:"fetch"},{title:"Refresh Application",icon:"fa fa-sync-alt",action:"refresh"},{title:"Deconnexion",icon:"fa fa-sign-out-alt",action:"logout"},{title:"Aide",icon:"fa fa-question-circle",action:"showTips"}],showConfig:!1,currencyConfig:"usd",port:localStorage.getItem("port")}},created:function(){},computed:y(y({},Object(c.d)({admin:function(t){return t.auth.Admin},Company:function(t){return t.auth.Company},UserName:function(t){return t.auth.UserName},dataStatus:function(t){return t.data.status}})),{},{menu:function(){var t=this;return this.menuConstructor.filter((function(e){return e.superAdmin?!!t.isSuperAdmin:!e.simpleAdmin||!(!t.isSuperAdmin&&!t.isSimpleAdmin)}))}},Object(c.c)({isSimpleAdmin:"auth/isSimpleAdmin",isSuperAdmin:"auth/isSuperAdmin"})),watch:{dataStatus:function(t){"loading"===t&&this.$toasted.show("&nbsp; Chargement...",{iconPack:"custom-class",icon:"fa fa-spinner fa-spin",position:"bottom-center"})}},mounted:function(){this.menuConstructor[0].title="".concat(this.Company," (").concat(this.UserName,")"),this.addKeyHandler(),this.fetchData()},sockets:{connect:function(){console.log("socket connected"),this.port&&this.$socket.emit("port",{port:this.port})},newSms:function(t){var e=t.data;window.writeData("sms",y(y({},e),{},{read:!1,database:!1})),this.$toasted.info("New message from ".concat(e.number),{action:{text:"Close",onClick:function(t,e){e.goAway(0)}},duration:5e3,position:"bottom-center"})},portSet:function(t){"ERROR"==t.status&&(this.port=!1)}},methods:y(y({},Object(c.b)({loadData:"data/loadData"})),{},{onCollapse:function(t){this.collapsed=t},onItemClick:function(t,e){switch(e.action){case"logout":confirm("Voulez-vous vous deconnecter ?")&&this.$store.dispatch("auth/logout");break;case"showTips":this.showTips=!this.showTips;break;case"refresh":location.reload();break;case"fetch":this.fetchData()}},addKeyHandler:function(t){window.addEventListener("keydown",this.keyHandler)},removeKeyHandler:function(){window.removeEventListener("keydown",this.keyHandler)},keyHandler:function(t){var e=t.which||t.keyCode;81===e&&t.ctrlKey&&(this.collapsed=!this.collapsed),73===e&&t.ctrlKey&&(this.showTips=!this.showTips)},onDragged:function(t){var e=t.el,n=t.deltaX,r=t.deltaY,o=t.first,i=t.last;if(o)this.isDragging=!0;else if(i)this.isDragging=!1;else{var a=+window.getComputedStyle(e).left.slice(0,-2)||0,s=+window.getComputedStyle(e).top.slice(0,-2)||0;e.style.left=a+n+"px",e.style.top=s+r+"px"}},onDraggedConfigUssd:function(t){var e=t.el,n=t.deltaX,r=t.deltaY,o=t.first,i=t.last;if(o)this.isDragging=!0;else if(i)this.isDragging=!1;else{var a=+window.getComputedStyle(e).left.slice(0,-2)||0,s=+window.getComputedStyle(e).top.slice(0,-2)||0;e.style.left=a+n+"px",e.style.top=s+r+"px"}},fetchData:function(){var t=this;this.loadData().then((function(e){t.$toasted.clear()})).catch((function(e){t.errorDisplay(e.response)}))},errorDisplay:function(t){t?this.$toasted.global.my_app_error({message:"".concat(t.data.message," (status: ").concat(t.status,")")}):this.$toasted.global.my_app_error({message:"Erreur réseau, veuillez vérifier votre connexion internet!"})},ussdConfig:function(t){this.currencyConfig=t,this.showConfig=!0}}),destroyed:function(){this.removeKeyHandler()}},x=(n("V/EC"),Object(p.a)(w,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-layout",class:{menuclosed:t.collapsed}},[e("sidebar-menu",{attrs:{menu:t.menu,collapsed:t.collapsed,width:"300px"},on:{collapse:t.onCollapse,itemClick:t.onItemClick}}),t._v(" "),t.showTips?e("div",{directives:[{name:"dragged",rawName:"v-dragged",value:t.onDragged,expression:"onDragged"}],staticClass:"tips"},[e("div",{staticClass:"card bg-danger mb-3 w-100 h-100",staticStyle:{"max-width":"18rem"}},[t._m(0),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"card-footer text-right"},[e("button",{staticClass:"btn btn-default btn-sm text-light",on:{click:function(e){t.showTips=!1}}},[t._v("Fermer")])])])]):t._e(),t._v(" "),e("router-view")],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"card-header text-white"},[t("i",{staticClass:"fa fa-question-circle"}),this._v(" Aide (App Version 1.0)\n      ")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-body"},[e("table",{staticClass:"table table-striped table-borderless table-hover table-sm text-white"},[e("tbody",[e("tr",[e("td",[t._v("Save")]),t._v(" "),e("td",[t._v("Ctrl + Enter")])]),t._v(" "),e("tr",[e("td",[t._v("Ajouter")]),t._v(" "),e("td",[t._v("Ctrl + Space")])]),t._v(" "),e("tr",[e("td",[t._v("Menu")]),t._v(" "),e("td",[t._v("Ctrl + Q")])]),t._v(" "),e("tr",[e("td",[t._v("Aide")]),t._v(" "),e("td",[t._v("Ctrl + I")])])])])])}],!1,null,"13540ec3",null).exports),S=function(t){if(t){var e="Enregistrer avant de partir ?";window.onbeforeunload=function(t){var n=n||window.event;return n&&(n.returnValue=e),e}}else window.onbeforeunload=null},I=n("pabA");function C(t,e){return t==e||""==t&&""==e||null==t&&null==e||null==t&&""==e||""==t&&null==e}var O=function(t,e){var n=C(t.TransactionID,e.TransactionID),r=C(t.CompanyFID,e.CompanyFID),o=C(t.MVNumber,e.MVNumber),i=C(t.Type,e.Type),a=C(t.MVAmount,e.MVAmount),s=C(t.MVCurrencyFID,e.MVCurrencyFID),c=C(t.MVNotes,e.MVNotes),u=C(t.MVDate,e.MVDate),l=C(t.USSDResponse,e.USSDResponse),f=C(t.Sent,e.Sent);return n&&r&&o&&a&&s&&c&&u&&l&&f&&i},D=new o.a;function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){P(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function P(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=_(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var T=function(t,e){t.edited?e.classList.add("table-warning"):e.classList.remove("table-warning"),t.new?e.classList.add("table-success"):e.classList.remove("table-success"),t.deleted?e.classList.add("table-danger"):e.classList.remove("table-danger")},E=(o.a.component("dropdownemployes-component",{props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String},template:'<td v-if="!dataItem.inEdit" :class="className">{{ dataItem[field] }}</td>\n                <td v-else>\n                  <select @change="change" v-model="value" class="form-control form-control-sm">\n                    <option v-for="employe in employes" :value="employe.EmployeID">\n                      {{ employe.Nom }}\n                    </option>\n                  </select>\n                </td>',data:function(){return{value:""}},mounted:function(){this.value=this.dataItem.EmployeFID},methods:{change:function(t){var e=this;this.$nextTick((function(){e.$emit("change",t,e.selectedEmploye())}))},selectedEmploye:function(){var t=this.value,e=this.employes.slice(),n=e.findIndex((function(e){return e.EmployeID==t}));return{value:e[n].Nom,foreignKey:"EmployeFID",foreignKeyValue:e[n].EmployeID}}},computed:j({},Object(c.d)({employes:function(t){return t.employes.employes}}))}),o.a.component("dropdowntypes-component",{props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String},template:'<td v-if="!dataItem.inEdit" :class="className">{{ dataItem[field] }}</td>\n                <td v-else>\n                  <select @change="change" v-model="value" class="form-control form-control-sm">\n                    <option v-for="type in types" :value="type.AbsenceTypeID">\n                      {{ type.AbsenceType }}\n                    </option>\n                  </select>\n                </td>',data:function(){return{value:""}},mounted:function(){this.value=this.dataItem.TypeAbsenceFID},methods:{change:function(t){var e=this;this.$nextTick((function(){e.$emit("change",t,e.selectedType())}))},selectedType:function(){var t=this.value,e=this.types.slice(),n=e.findIndex((function(e){return e.AbsenceTypeID==t}));return{value:e[n].AbsenceType,foreignKey:"TypeAbsenceFID",foreignKeyValue:e[n].AbsenceTypeID,Transport:e[n].Transport,Salaire:e[n].Salaire}},print:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){print()}))},computed:j({},Object(c.d)({types:function(t){return t.types.types}}))}),o.a.component("nb-days-component",{props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String},template:'<td v-if="!dataItem.inEdit" :class="className">{{ dataItem[field] }}</td>\n                <td v-else>\n                  <input @change="change" type="number" min="1" max="6" :value="dataItem[field] ? dataItem[field] : 1" class="form-control form-control-sm">\n                </td>',methods:{change:function(t){t.target.value=t.target.value<1?1:t.target.value,t.target.value=t.target.value>6?6:t.target.value,this.$emit("change",t,t.target.value)}}}),o.a.component("date-input-component",{props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String},template:'<td v-if="!dataItem.inEdit" :class="className">{{ dataItem[field] }}</td>\n              <td v-else>\n              {{ dataItem[field] }}\n                <input @change="change" type="date" :value="dataItem[field]"  class="form-control form-control-sm">\n              </td>',methods:{change:function(t){this.$emit("change",t,t.target.value)}}}),o.a.component("template-component",{props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String},template:' <td>\n                    <button\n                        @keyup.tab="tab"\n                        class="btn btn-danger btn-sm"\n                        :class="classObject"\n                        @click="removeHandler">\n                        <i class="fa fa-trash-alt"></i>\n                    </button>\n                    </td>',computed:j(j({},Object(c.d)({absences:function(t){return t.absences.absences},currentWeek:function(t){return t.weeks.current}})),{},{classObject:function(){return{disabled:!!this.currentWeek&&this.currentWeek.WeekID!=this.dataItem.WeekFID}}}),watch:{dataItem:{handler:function(t,e){T(this.dataItem,this.$parent.$parent.$el)},deep:!0}},methods:{removeHandler:function(){this.$emit("remove",this.dataItem)},tab:function(){D.$emit("tab-pressed",this.dataItem)}}}),o.a.component("has-signature-component",{props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String},template:'<td :class="className">\n                <span v-if="dataItem[field]" class="badge badge-success">Yes</span>\n                <span v-else class="badge badge-danger">No</span>\n            </td>'})),N=(o.a.component("bool-component",{props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String},template:'<td :class="className">\n                <span v-if="dataItem[field] == 1" class="badge badge-success">Yes</span>\n                <span v-else class="badge badge-danger">No</span>\n            </td>'}),o.a.component("template-component",{props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String},template:' <td>\n                  <button\n                      class="btn btn-dark btn-sm"\n                      @click="sign">\n                      <i class="fa fa-file-signature"></i>\n                  </button>\n              </td>',watch:{dataItem:{handler:function(t,e){T(this.dataItem,this.$parent.$parent.$el)},deep:!0}},methods:{sign:function(){D.$emit("start-sign",this.dataItem)}}}),o.a.component("template-component",{props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String},template:' <td>\n                  <button\n                      class="btn btn-dark btn-sm"\n                      @click="sign">\n                      <i class="fa fa-file-signature"></i>\n                  </button>\n              </td>',watch:{dataItem:{handler:function(t,e){T(this.dataItem,this.$parent.$parent.$el)},deep:!0}},methods:{sign:function(){D.$emit("start-sign",this.dataItem)}}}),o.a.component("dropdowncompanies-component",{props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String},template:'<td v-if="!dataItem.inEdit" :class="className">{{ dataItem[field] }}</td>\n              <td v-else>\n                <select @change="change" v-model="value" class="form-control form-control-sm">\n                  <option v-for="company in companies" :value="company.CompanyID" :selected="!Admin">\n                    {{ company.CompanyName }}\n                  </option>\n                </select>\n              </td>',data:function(){return{value:""}},mounted:function(){this.value=this.dataItem.CompanyFID},methods:{change:function(t){var e=this;this.$nextTick((function(){e.$emit("change",t,e.selectedCompany())}))},selectedCompany:function(){var t=this.value,e=this.companies.slice(),n=e.findIndex((function(e){return e.CompanyID==t}));return{value:e[n].CompanyName,foreignKey:"CompanyFID",foreignKeyValue:e[n].CompanyID}}},computed:j({},Object(c.d)({companies:function(t){return t.companies.companies},Admin:function(t){return t.auth.Admin}}))})),L=o.a.component("companiescommandcell-component",{props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String},template:' <td>\n                  <button\n                      @keyup.tab="tab"\n                      class="btn btn-danger btn-sm"\n                      @click="removeHandler">\n                      <i class="fa fa-trash-alt"></i>\n                  </button>\n                  </td>',watch:{dataItem:{handler:function(t,e){T(this.dataItem,this.$parent.$parent.$el)},deep:!0}},methods:{removeHandler:function(){this.$emit("remove",this.dataItem)},tab:function(){D.$emit("tab-pressed",this.dataItem)}}}),A=o.a.component("orange-component",{props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String},template:' <td>\n                  <button\n                    v-if="isSimpleAdmin"\n                      class="btn btn-success btn-sm"\n                      @click="ussdHandler"\n\t\t\t\t\t  :disabled="dataItem[\'Sent\'] == 1">\n                      <i v-if="ussdLoading" class="fa fa-spinner fa-spin"></i>\n                      <i v-if="!ussdLoading" class="fa fa-phone-square"></i>\n\t\t\t\t\t  \n                  </button>\n                  <button\n\t\t\t\t\t\t:disabled="dataItem[\'Sent\'] == 1"\n                      @keyup.tab="tab"\n                      class="btn btn-danger btn-sm"\n                      @click="removeHandler">\n                      <i class="fa fa-trash-alt"></i>\n                  </button>\n                  </td>',watch:{dataItem:{handler:function(t,e){T(this.dataItem,this.$parent.$parent.$el)},deep:!0}},data:function(){return{ussdLoading:!1}},computed:j({},Object(c.c)({isSimpleAdmin:"auth/isSimpleAdmin"})),methods:{removeHandler:function(){this.$emit("remove",this.dataItem)},ussdHandler:function(){D.$emit("ussd",this.dataItem)},tab:function(){D.$emit("tab-pressed",this.dataItem)}}}),F=o.a.component("ussd-response-cell-component",{props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String},template:'<td :class="className" @click="showValue">{{ dataItem[field] }}</td>',methods:{showValue:function(){this.$dialog.alert(this.dataItem[this.field],{backdropClose:!0})}}}),U=(o.a.component("mv-type-cell-component",{props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String},template:'<td :class="className" >{{ dataItem[field] }}</td>'}),o.a.component("my-number-cell-component",{props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String},template:'<td v-if="!dataItem.inEdit"  class="" > {{ this.formatNumber }}<span @click="copy" class="float-right " ><i class="fa fa-copy" /></span> </td>\n                \n              <td v-else>\n                <input @change="change"  type="number" class="k-textbox" :value="dataItem[field] ? dataItem[field] : 0" style="width:100%;height:100%;"/>\n              </td>',computed:{formatNumber:function(){return new Intl.NumberFormat("en-US").format(this.dataItem[this.field])}},methods:{change:function(t){this.$emit("change",t,t.target.value)},copy:function(){this.$toasted.success("Amount copied",{duration:500,position:"bottom-center"}),navigator.clipboard.writeText(this.dataItem[this.field])},amountClick:function(t){this.dataItem.inEdit||navigator.clipboard.writeText(this.dataItem.MVAmount)}}})),$=o.a.component("my-number-cell-component",{props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String},template:'<td v-if="!dataItem.inEdit" > \n                {{dataItem[field]}} \n                <span @click="copy" class="float-right"  ><i class="fa fa-copy" /></span>\n              </td>\n              <td v-else>\n                <input @change="change"  type="text" class="k-textbox" :value="dataItem[field]" style="width:100%;height:100%;"/>\n              </td>',computed:{formatNumber:function(){return new Intl.NumberFormat("en-US").format(this.dataItem[this.field])}},methods:{change:function(t){this.$emit("change",t,t.target.value)},copy:function(){this.$toasted.success("Number copied",{duration:500,position:"bottom-center"}),navigator.clipboard.writeText(this.dataItem[this.field])},clickCell:function(t){this.$emit("clickCellPhone",t,t.target.value)}}}),R=(o.a.component("my-number-cell-component",{props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String},template:'<td v-if="!dataItem.inEdit" > \n                {{dataItem[field]}}\n              </td>\n              \n              <td v-else>\n                <input @change="change"  type="text" class="k-textbox" :value="dataItem[field]" style="width:100%;height:100%;"/>\n              </td>',computed:{formatNumber:function(){return new Intl.NumberFormat("en-US").format(this.dataItem[this.field])}},methods:{change:function(t){this.$emit("change",t,t.target.value)},copy:function(){this.$toasted.success("Number copied",{duration:500,position:"bottom-center"}),navigator.clipboard.writeText(this.dataItem[this.field])},clickCell:function(t){this.$emit("clickCellPhone",t,t.target.value)}}}),o.a.component("my-boolean-component",{props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String},template:'<td v-if="isSimpleAdmin && dataItem.inEdit">\n\t\t\t\t<select @change="change" v-model="value" class="form-control form-control-sm">\n                  <option :value="0">false</option>\n\t\t\t\t  <option :value="1">true</option>\n                </select>\n\t\t\t</td>\n\t\t\t<td v-else :class="className">\n                <span v-if="dataItem[field] == 1" class="badge badge-success" v-on:dblclick="setFalse">Yes</span>\n                <span v-else class="badge badge-danger">No</span>\n            </td>',data:function(){return{value:0}},computed:j({},Object(c.c)({isSimpleAdmin:"auth/isSimpleAdmin"})),mounted:function(){this.value=this.dataItem[this.field]},methods:{change:function(t){this.$emit("change",t,this.value)},setFalse:function(){this.isSimpleAdmin&&D.$emit("set-false",this.dataItem)}}})),V=o.a.component("my-phone-type-component",{props:{field:String,dataItem:Object,format:String,className:String,columnIndex:Number,columnsCount:Number,rowType:String,level:Number,expanded:Boolean,editor:String},template:'<td v-if="isSimpleAdmin && dataItem.inEdit">\n      <select @change="change" v-model="dataItem[field]" class="form-control form-control-sm">\n      <option value="Agent">Agent</option>\n      <option value="Dealer">Dealer</option>\n    </select>\n\t\t\t</td>\n\t\t\t<td v-else :class="className">\n                <span >{{ dataItem[field]}}</span>\n            </td>',data:function(){return{value:0}},computed:j({},Object(c.c)({isSimpleAdmin:"auth/isSimpleAdmin"})),mounted:function(){this.value=this.dataItem[this.field]},methods:{change:function(t){this.$emit("change",t,this.dataItem[this.field])},setFalse:function(){this.isSimpleAdmin&&D.$emit("set-false",this.dataItem)}}});function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return B(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function G(){G=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),s=new j(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",p="executing",m="completed",h={};function v(){}function g(){}function y(){}var b={};u(b,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(P([])));x&&x!==n&&r.call(x,a)&&(b=x);var S=y.prototype=v.prototype=Object.create(b);function I(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==M(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=D(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?m:"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function D(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,D(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(M(e)+" is not iterable")}return g.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},I(C.prototype),u(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new C(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},I(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}function z(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function K(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){z(i,r,o,a,s,"next",t)}function s(t){z(i,r,o,a,s,"throw",t)}a(void 0)}))}}function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach((function(e){W(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function W(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=M(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==M(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var X={data:function(){return{loading:!1,items:[],editID:null,columns:[{field:"UserName",title:"Nom",filterable:!0},{field:"Password",title:"Password"},{field:"Company",title:"Branch",filterable:!0,cell:N},{field:"Admin",title:"Admin",filterable:!0},{title:"Del",filterable:!1,cell:L,width:"60px",locked:!0}],filter:{logic:"and",filters:[]},sort:[],nextId:1e6}},mounted:function(){this.loadItems(!0),this.addKeyHandler()},computed:q(q({usersList:function(){var t=this;return this.items.map((function(e){return Object.assign({inEdit:e.UserID===t.editID},e)}))},getData:function(){return Object(I.c)(Object(I.a)(this.usersList,this.filter),this.sort)}},Object(c.d)({users:function(t){return t.users.users},UserName:function(t){return t.auth.UserName},Company:function(t){return t.auth.Company}})),{},{waitingForSave:function(){var t=0;return this.items.forEach((function(e){(e.edited||e.deleted||e.new)&&t++})),S(t),t}}),methods:q(q({},Object(c.b)({getUsers:"users/getUsers"})),{},{refreshData:function(){this.loadItems()},loadItemsFromState:function(){this.items=this.users.map((function(t){return Object.assign({new:!1,edited:!1,deleted:!1},t)})),this.loading=!1,this.editID=null},loadItems:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loading=!0,e?this.loadItemsFromState():this.getUsers().then((function(e){t.loadItemsFromState()})).catch((function(e){var n=e.response;n?t.$toasted.global.my_app_error({message:"".concat(n.data.message," (status: ").concat(n.status,")")}):t.$toasted.global.my_app_error({message:"Erreur réseau, veuillez vérifier votre connexion internet!"}),t.loading=!1}))},itemChange:function(t){var e=t.field,n=t.value,r=this.items.slice(),o=r.findIndex((function(e){return e.UserID===t.dataItem.UserID}));if(["Company"].includes(e)){var i=n.foreignKey,a=n.foreignKeyValue,s=n.value;r[o]=q(q({},r[o]),{},W(W({},e,s),i,a))}else r[o]=q(q({},r[o]),{},W({},e,n));var c=this.users.slice(),u=c.findIndex((function(e){return e.UserID===t.dataItem.UserID}));r[o].new||(!function(t,e){var n=C(t.UserID,e.UserID),r=C(t.UserName,e.UserName),o=C(t.Password,e.Password),i=C(t.CompanyFID,e.CompanyFID),a=C(t.Admin,e.Admin);return n&&r&&o&&i&&a}(r[o],c[u])?r[o].edited=!0:r[o].edited=!1),this.items=r,this.$set(t.dataItem,e,n)},rowClick:function(t){var e=this;if(this.editID){var n=this.items.slice().find((function(t){return t.UserID==e.editID}));if(!this.validateRow(n))return void this.alert()}t.dataItem.deleted||(this.editID=t.dataItem.UserID,this.$set(t.dataItem,"inEdit",!0),this.$nextTick((function(){t.event.path[1].firstChild.firstChild.focus()})))},closeEdit:function(t){t.target===t.currentTarget&&(this.editID=null)},nextRow:function(t){var e=this,n=this.items.slice();if(this.editID){var r=n.find((function(t){return t.UserID==e.editID}));if(!this.validateRow(r))return void this.alert()}var o=n.findIndex((function(e){return e.UserID==t.UserID}));this.editID=null,o++,n.length===o||this.$nextTick((function(){n[o].deleted||!n[o].new&&n[o].WeekFID!=e.currentWeek.WeekID||(e.editID=n[o].UserID)}))},addRecord:function(t){this.nextId++;var e={UserID:this.nextId,new:!0},n=this.items.slice();this.validateRow(n[0])?(n.unshift(e),this.items=n,this.editID=e.UserID,this.$nextTick((function(){document.querySelector("tr.k-master-row").firstChild.firstChild.focus()}))):this.alert()},remove:function(t){if(confirm("Voulez-vous supprimer cette entrée ?")){var e=this.items.slice(),n=e.findIndex((function(e){return e.UserID===t.dataItem.UserID}));e[n].new?e.splice(n,1):e[n].deleted=!0,this.items=e}},saveChanges:function(){var t=this;if(this.editID){var e=this.items.slice().find((function(e){return e.UserID==t.editID}));if(!this.validateRow(e))return void this.alert()}var n=this;this.editID=null,this.loading=!0;var r={destroy:this.items.filter((function(t){return t.deleted})),update:this.items.filter((function(t){return t.edited})),store:this.items.filter((function(t){return t.new}))};function o(t){var e="users/"+t;return new Promise((function(o,i){r[t].length?n.$store.dispatch(e,r[t]).then((function(e){"store"==t&&console.log("end store ",e),"update"==t&&console.log("end update ",e),"destroy"==t&&console.log("end destroy ",e),o()})):o()}))}function i(t){return a.apply(this,arguments)}function a(){return(a=K(G().mark((function t(e){return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(e);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function s(){return(s=K(G().mark((function t(e){var r,o,a;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=H(e),t.prev=1,r.s();case 3:if((o=r.n()).done){t.next=9;break}return a=o.value,t.next=7,i(a);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r.e(t.t0);case 14:return t.prev=14,r.f(),t.finish(14);case 17:n.loadItems(),n.editID=null,n.loading=!1,console.log("Done! 11");case 21:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})))).apply(this,arguments)}!function(t){s.apply(this,arguments)}(["store","update","destroy"])},cancelChanges:function(){confirm("Voulez-vous annuler les modifications?")&&(this.items=this.users.map((function(t){return Object.assign({new:!1,edited:!1,deleted:!1},t)})),this.editID=null)},filterChange:function(t){this.filter=t.filter},columnReorder:function(t){this.columns=t.columns},sortChangeHandler:function(t){this.sort=t.sort},validateRow:function(t){if(null!=t){var e=!!t.UserName&&!!t.CompanyFID;return t.new&&(e=e&&!!t.Password),e}return!0},addKeyHandler:function(t){window.addEventListener("keydown",this.keyHandler)},removeKeyHandler:function(){window.removeEventListener("keydown",this.keyHandler)},keyHandler:function(t){var e=t.which||t.keyCode;13===e&&t.ctrlKey&&this.saveChanges(),32===e&&t.ctrlKey&&this.addRecord()},alert:function(){this.$toasted.info("Veuillez remplir les champs obligatoires!!! ( Nom, Pass, Company)",{action:{text:"Fermer",onClick:function(t,e){e.goAway(0)}},duration:5e3,position:"bottom-center"})}}),beforeDestroy:function(){D.$off("tab-pressed",this.nextRow),this.removeKeyHandler()},beforeRouteLeave:function(t,e,n){this.waitingForSave?confirm("Voulez-vous partir sans enregistrer ?")?n():n(!1):n()}},J=Object(p.a)(X,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"h-100"},[e("Grid",{ref:"grid",style:{height:"100%"},attrs:{"data-items":t.getData,"edit-field":"inEdit",resizable:!0,reorderable:!0,filterable:!0,filter:t.filter,sortable:!0,sort:t.sort,columns:t.columns},on:{rowclick:t.rowClick,itemchange:t.itemChange,remove:t.remove,columnreorder:t.columnReorder,filterchange:t.filterChange,sortchange:t.sortChangeHandler}},[e("grid-toolbar",{staticClass:"bg-danger"},[e("div",{staticClass:"d-flex justify-content-between",on:{click:t.closeEdit}},[e("div",[e("button",{staticClass:"btn btn-dark btn-sm btn-sized",attrs:{title:"Ctrl+Space"},on:{click:t.addRecord}},[e("i",{staticClass:"fa fa-user-plus"}),t._v(" Ajouter\n                    ")]),t._v(" "),e("button",{staticClass:"btn btn-dark btn-sm btn-sized",attrs:{title:"Ctrl+Enter"},on:{click:t.saveChanges}},[e("i",{staticClass:"fa fa-save"}),t._v(" \n                        Save \n                        "),e("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.waitingForSave))])]),t._v(" "),e("button",{staticClass:"btn btn-dark btn-sm btn-sized",attrs:{title:"Refresh"},on:{click:t.refreshData}},[e("i",{staticClass:"fa fa-download"}),t._v(" Load\n                    ")])]),t._v(" "),e("div",[e("button",{staticClass:"btn btn-dark btn-sm btn-sized",attrs:{title:"Cancel Changes"},on:{click:t.cancelChanges}},[e("i",{staticClass:"fa fa-undo"}),t._v(" Annuler\n                    ")]),t._v(" "),e("user-details",{attrs:{name:"User",value:t.UserName}}),t._v(" "),e("user-details",{attrs:{name:"Branch",value:t.Company}})],1)])])],1),t._v(" "),t.loading?e("loading"):t._e()],1)}),[],!1,null,null,null).exports,Z=n("YUP2"),Q=n("zuR4"),tt="/api/v1",et=tt+"/transactions",nt={Airtel:function(t){return t.match(/^(99|98|97)\d{7}/)}};function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ut(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function it(){it=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),s=new j(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",p="executing",m="completed",h={};function v(){}function g(){}function y(){}var b={};u(b,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(P([])));x&&x!==n&&r.call(x,a)&&(b=x);var S=y.prototype=v.prototype=Object.create(b);function I(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==rt(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=D(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?m:"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function D(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,D(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(rt(e)+" is not iterable")}return g.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},I(C.prototype),u(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new C(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},I(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}function at(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function st(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){at(i,r,o,a,s,"next",t)}function s(t){at(i,r,o,a,s,"throw",t)}a(void 0)}))}}function ct(t){return function(t){if(Array.isArray(t))return lt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ut(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(t,e){if(t){if("string"==typeof t)return lt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(t,e):void 0}}function lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(n),!0).forEach((function(e){pt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=rt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mt={components:{NumberCell:U},data:function(){return{selectedField:"selected",loading:!1,verifying:!0,items:[],editID:null,staticColumns:[{field:"Company",title:"From Branch",cell:N},{field:"MVNumber",title:"Phone Number",cell:$},{field:"MVAmount",title:"Amount",cell:U},{field:"Type",title:"Type",cell:V},{field:"MVCurrency",title:"Currency",editable:!1,filterable:!1,width:"90px"},{field:"MVNotes",title:"Notes"},{field:"USSDResponse",title:"Response",cell:F},{field:"MVDate",filter:"date",editor:"date",title:"Date",format:"{0:d}",width:"230px"},{field:"Sent",title:"Sent",cell:R,width:"100px"},{title:"Delete",filterable:!1,cell:A,width:"100px"}],filter:{logic:"and",filters:[]},enableFilter:!1,sort:[],json_fields:{Company:"Company",MVNumber:"MVNumber",MVAmount:"MVAmount",MVCurrency:"MVCurrency",MVNotes:"MVNotes",MVDate:"MVDate"},connected:!1,from:(new Date).toISOString().split("T")[0],to:(new Date).toISOString().split("T")[0],toolbarBg:"bg-danger",waitingForResponse:null,selectedCount:0,isBatch:!1,provider:window.myprovider}},mounted:function(){console.log(this.provider),this.loadItems(!0),D.$on("tab-pressed",this.nextRow),D.$on("set-false",this.setSentFalse),D.$on("ussd",this.ussdHandler),this.addKeyHandler()},computed:dt(dt({areAllSelected:function(){return-1===this.items.findIndex((function(t){return!1===t.selected}))},columns:function(){return[{field:"selected",width:"50px",filterable:!1,headerSelectionValue:this.areAllSelected}].concat(ct(this.staticColumns))},mvOrangeList:function(){var t=this;return this.items.map((function(e){return Object.assign({inEdit:e.TransactionID===t.editID},e)}))},getData:function(){return Object(I.c)(Object(I.a)(this.mvOrangeList,this.filter),this.sort)},total:function(){return this[this.$route.params.currency+"Total"]}},Object(c.d)({fc:function(t){return t.mvOrange.fc},usd:function(t){return t.mvOrange.usd},fcTotal:function(t){return t.mvOrange.fcTotal},usdTotal:function(t){return t.mvOrange.usdTotal},UserName:function(t){return t.auth.UserName},Company:function(t){return t.auth.Company},UserID:function(t){return t.auth.UserID},currencies:function(t){return t.currencies.currencies},selectedCurrency:function(t){return t.currencies.selected}})),{},{waitingForSave:function(){var t=0;return this.items.forEach((function(e){(e.edited||e.deleted||e.new)&&t++})),S(t),t}}),beforeRouteEnter:function(t,e,n){n((function(e){if(e.changeToolBarBg(t.params.currency),null!==e.selectedCurrency){var n=e.currencies.find((function(e){return e.Currency.toUpperCase()===t.params.currency.toUpperCase()}));e.selectCurrency(n)}}))},beforeRouteUpdate:function(t,e,n){if(null!==this.selectedCurrency){var r=this.currencies.find((function(e){return e.Currency.toUpperCase()===t.params.currency.toUpperCase()}));this.selectCurrency(r)}n()},watch:{$route:function(t,e){this.changeToolBarBg(t.params.currency),this.loadItems(!0)},items:function(t){var e=this;this.selectedCount=0,t.forEach((function(t){t.selected&&0==t.Sent&&e.selectedCount++}))}},methods:dt(dt({onHeaderSelectionChange:function(t){var e=t.event.target.checked,n=this.items.slice();n.map((function(t){return dt(dt({},t),{},{selected:e})})),this.items=n,o.a.set(this,"items",this.items.map((function(t){return dt(dt({},t),{},{selected:e})})))},onSelectionChange:function(t){var e=this.items.slice(),n=e.findIndex((function(e){return e.TransactionID===t.dataItem.TransactionID}));e[n]=dt(dt({},e[n]),{},{selected:!t.dataItem[this.selectedField]}),this.items=e,o.a.set(t.dataItem,this.selectedField,!t.dataItem[this.selectedField])},createRandomData:function(t){}},Object(c.b)({getMvOranges:"mvOrange/getMvOranges",selectCurrency:"currencies/selectCurrency"})),{},{refreshData:function(){var t=this,e=this.currencies.find((function(e){return e.Currency.toUpperCase()===t.$route.params.currency.toUpperCase()}));if(this.selectCurrency(e),this.waitingForSave){var n=this;this.$dialog.confirm({title:"Do you want to Load Data without saving changes ?",body:"You have to save changes before loading data"},{okText:"Save changes",cancelText:"Load"}).then((function(){console.log("ok"),n.saveChanges()})).catch((function(){console.log("cancel"),n.loadItems()}))}else this.loadItems()},loadItemsFromState:function(){this.items=this[this.$route.params.currency].map((function(t){return Object.assign({new:!1,edited:!1,deleted:!1,selected:!1},t)})),this.loading=!1,this.editID=null},loadItems:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loading=!0,e?this.loadItemsFromState():this.getMvOranges({currency:this.selectedCurrency,from:this.from,to:this.to}).then((function(e){t.loadItemsFromState()})).catch((function(e){var n=e.response;n?t.$toasted.global.my_app_error({message:"".concat(n.data.message," (status: ").concat(n.status,")")}):t.$toasted.global.my_app_error({message:"Erreur réseau, veuillez vérifier votre connexion internet!"}),t.loading=!1}))},itemChange:function(t){var e=this,n=t.field,r=t.value;["MVDate"].includes(n)&&(r=r.toISOString().split("T")[0]);var o=this.items.slice(),i=o.findIndex((function(e){return e.TransactionID===t.dataItem.TransactionID}));if(["Company"].includes(n)){var a=r.foreignKey,s=r.foreignKeyValue,c=r.value;o[i]=dt(dt({},o[i]),{},pt(pt({},n,c),a,s))}else o[i]=dt(dt({},o[i]),{},pt({},n,r));var u=this[this.$route.params.currency].slice(),l=u.findIndex((function(e){return e.TransactionID===t.dataItem.TransactionID}));o[i].new||(O(o[i],u[l])?o[i].edited=!1:o[i].edited=!0),this.items=o,"MVNumber"==t.field&&Q.a.get("/api/v1/phone_types/"+t.value).then((function(n){var r=e.items.map((function(e){return e.TransactionID===t.dataItem.TransactionID&&(e.Type=Object.keys(n.data).length>0?n.data.Type:""),e}));e.items=r})),this.$set(t.dataItem,n,r)},rowClick:function(t){var e=this;if(this.editID){var n=this.items.slice().find((function(t){return t.TransactionID==e.editID}));if(!this.validateRow(n))return void this.alert()}t.dataItem.deleted||0!=t.dataItem.Sent||(this.editID=t.dataItem.TransactionID,this.$set(t.dataItem,"inEdit",!0))},amountClick:function(t,e){},closeEdit:function(t){var e=this;if(this.editID){var n=this.items.slice().find((function(t){return t.TransactionID==e.editID}));if(!this.validateRow(n))return void this.alert()}t.target===t.currentTarget&&(this.editID=null)},nextRow:function(t){var e=this,n=this.items.slice();if(this.editID){var r=n.find((function(t){return t.TransactionID==e.editID}));if(!this.validateRow(r))return void this.alert()}var o=n.findIndex((function(e){return e.TransactionID==t.TransactionID}));this.editID=null,o++,n.length===o||this.$nextTick((function(){n[o].deleted||0!=n[o].Sent||(e.editID=n[o].TransactionID)}))},getUniqueId:function(){var t=+new Date;return t=String(this.UserID)+String(t),Number(t)},addRecord:function(t){var e=this,n=this.currencies.find((function(t){return t.Currency.toUpperCase()===e.$route.params.currency.toUpperCase()}));if(this.selectCurrency(n),null!==this.selectedCurrency){var r={TransactionID:this.getUniqueId(),new:!0,MVDate:(new Date).toISOString().split("T")[0],MVCurrency:this.selectedCurrency.Currency,Sent:0},o=this.items.slice();this.validateRow(o[0])?(o.unshift(r),this.items=o,this.editID=r.TransactionID,this.$nextTick((function(){document.querySelector("select.form-control.form-control-sm").focus()}))):this.alert()}else alert("Loading state! retry later!")},remove:function(t){if(confirm("Voulez-vous supprimer cette entrée ?")){var e=this.items.slice(),n=e.findIndex((function(e){return e.TransactionID===t.dataItem.TransactionID}));e[n].new?e.splice(n,1):e[n].deleted=!0,this.items=e}},saveChanges:function(){var t=this;if(this.editID){var e=this.items.slice().find((function(e){return e.TransactionID==t.editID}));if(!this.validateRow(e))return void this.alert()}var n=this;this.editID=null;var r={destroy:this.items.filter((function(t){return t.deleted})),update:this.items.filter((function(t){return t.edited})),store:this.items.filter((function(t){return t.new}))};function o(t){var e="mvOrange/"+t;return new Promise((function(o,i){r[t].length?n.$store.dispatch(e,r[t]).then((function(e){"store"==t&&console.log("end store ",e),"update"==t&&console.log("end update ",e),"destroy"==t&&console.log("end destroy ",e),o()})):o()}))}function i(t){return a.apply(this,arguments)}function a(){return(a=st(it().mark((function t(e){return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(e);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function s(){return(s=st(it().mark((function t(e){var r,o,a;return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=ot(e),t.prev=1,r.s();case 3:if((o=r.n()).done){t.next=9;break}return a=o.value,t.next=7,i(a);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r.e(t.t0);case 14:return t.prev=14,r.f(),t.finish(14);case 17:n.loadItems(),n.editID=null,n.loading=!1,console.log("Done! 11");case 21:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})))).apply(this,arguments)}null!==this.selectedCurrency&&(this.loading=!0,function(t){s.apply(this,arguments)}(["store","update","destroy"]))},cancelChanges:function(){confirm("Voulez-vous annuler les modifications?")&&(this.items=this[this.$route.params.currency].map((function(t){return Object.assign({new:!1,edited:!1,deleted:!1},t)})),this.editID=null)},dataForExport:function(){var t=this;return new Promise((function(e){e(t[t.$route.params.currency].map((function(t){return dt({},t)})))}))},exportExcel:function(){var t=[{field:"Company",title:"Company"},{field:"MVNumber",title:"MVNumber"},{field:"MVAmount",title:"MVAmount"},{field:"MVCurrency",title:"MVCurrency"},{field:"MVNotes",title:"MVNotes"},{field:"MVDate",title:"MVDate"}];this.dataForExport().then((function(e){Object(Z.a)({data:e,fileName:"AirtelMoney",columns:t})}))},filterChange:function(t){if(t.filter){var e=t.filter.filters.map((function(t){return"MVDate"===t.field?dt(dt({},t),{},{value:new Date(t.value).toISOString().split("T")[0]}):t}));t.filter.filters=e}this.filter=t.filter},columnReorder:function(t){this.columns=t.columns},sortChangeHandler:function(t){this.sort=t.sort},validateRow:function(t){if(null!=t){if(t.MVNumber){if(t.MVNumber.length<9||t.MVNumber.length>10)return this.$toasted.info("This is an invalid number",{action:{text:"Fermer",onClick:function(t,e){e.goAway(0)}},duration:5e3,position:"bottom-center"}),!1;if(!nt[this.provider](t.MVNumber))return this.$toasted.info("This is an invalid ".concat(this.provider," number beginning without 0"),{action:{text:"Fermer",onClick:function(t,e){e.goAway(0)}},duration:5e3,position:"bottom-center"}),!1}return!!(t.CompanyFID&&t.MVNumber&&t.MVAmount&&t.MVDate)}return!0},addKeyHandler:function(t){window.addEventListener("keydown",this.keyHandler)},removeKeyHandler:function(){window.removeEventListener("keydown",this.keyHandler)},keyHandler:function(t){var e=t.which||t.keyCode;13===e&&t.ctrlKey&&this.saveChanges(),32===e&&t.ctrlKey&&this.addRecord(),77===e&&t.ctrlKey&&this.refreshData(),66===e&&t.ctrlKey&&this.cancelChanges()},alert:function(){this.$toasted.info("Veuillez remplir les champs obligatoires!!! ( Branch, Number, Amount, Date )",{action:{text:"Fermer",onClick:function(t,e){e.goAway(0)}},duration:5e3,position:"bottom-center"})},sendBatch:function(){var t=this.items.find((function(t){return t.selected&&0==t.Sent}));t&&this.ussdHandler(t,!0)},ussdHandler:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.TransactionID>2147483647?alert("Please save new records to the database before sending money"):(this.isBatch=n,this.verifying=!0,this.waitingForResponse=t,Q.a.get(et+"/check/"+t.TransactionID).then((function(n){e.verifying=!1;var r=t.MVNumber,o=t.MVAmount,i=localStorage.getItem("port"),a=JSON.parse(localStorage.getItem(e.$route.params.currency+"-cmds")).slice();if(i&&a&&a.length>0)if(confirm("Do you want to send ".concat(o," ").concat(e.$route.params.currency.toUpperCase()," to ").concat(r," ?"))){for(var s=[],c=0;c<a.length;c++)s.push(a[c].replace("NUMBER",r).replace("AMOUNT",o));var u=new FormData;u.append("data",JSON.stringify(s)),u.append("port",i);Q.a.post("http://localhost:5500/api",u,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}}).then((function(t){e.ussdResponse(t.data)})).catch((function(t){if(e.waitingForResponse=null,t.response){var n=t.response.data;n.data.message?e.$toasted.global.my_app_error({message:n.data.message}):e.$toasted.global.my_app_error({message:n})}else e.$toasted.global.my_app_error({message:"Erreur!, veuillez vérifier votre serveur USSD!"})}))}else e.waitingForResponse=null;else e.waitingForResponse=null,e.$toasted.info("Please set the USSD config",{action:{text:"Fermer",onClick:function(t,e){e.goAway(0)}},duration:5e3,position:"bottom-center"})})).catch((function(t){if(e.verifying=!0,e.waitingForResponse=null,t.response){console.log(t.response);var n=t.response.data;n.message?e.$toasted.global.my_app_error({message:n.message}):e.$toasted.global.my_app_error({message:n})}else e.$toasted.global.my_app_error({message:"Erreur!, veuillez vérifier reseau!"})})))},ussdResponse:function(t){var e=this,n=t.data.message;if(this.waitingForResponse){var r=this.items.slice(),o=r.findIndex((function(t){return t.TransactionID===e.waitingForResponse.TransactionID}));r[o]=dt(dt({},r[o]),{},{USSDResponse:n,Sent:n.startsWith("Transaction reussie.")?1:0});var i=this[this.$route.params.currency].slice(),a=i.findIndex((function(t){return t.TransactionID===e.waitingForResponse.TransactionID}));this.isBatch&&(r[o].selected=!1),r[o].new||(O(r[o],i[a])?r[o].edited=!1:r[o].edited=!0),this.items=r,this.$set(this.waitingForResponse,"USSDResponse",n),this.waitingForResponse=null,this.isBatch&&this.selectedCount>0&&setTimeout((function(){e.sendBatch()}),300)}},changeToolBarBg:function(t){"usd"==t&&(this.toolbarBg="bg-success"),"fc"==t&&(this.toolbarBg="bg-info")},setSentFalse:function(t){var e=this.items.slice(),n=e.findIndex((function(e){return e.TransactionID===t.TransactionID}));e[n]=dt(dt({},e[n]),{},{Sent:0});var r=this[this.$route.params.currency].slice(),o=r.findIndex((function(e){return e.TransactionID===t.TransactionID}));e[n].new||(O(e[n],r[o])?e[n].edited=!1:e[n].edited=!0),this.items=e,this.$set(t,"Sent",0)}}),beforeDestroy:function(){D.$off("tab-pressed",this.nextRow),D.$off("set-false",this.setSentFalse),D.$off("ussd",this.ussdHandler),this.removeKeyHandler()},beforeRouteLeave:function(t,e,n){if(this.waitingForSave){var r=this;this.$dialog.confirm({title:"Do you want to leave ?",body:"You have to save changes before leaving!!!"},{okText:"Save changes",cancelText:"Leave"}).then((function(){console.log("ok"),r.saveChanges()})).catch((function(){console.log("cancel"),n()}))}else n()}},ht=(n("oaLZ"),Object(p.a)(mt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"h-100"},[e("Grid",{ref:"grid",style:{height:"100%"},attrs:{"data-items":t.getData,"edit-field":"inEdit",resizable:!0,reorderable:!0,filterable:t.enableFilter,filter:t.filter,sortable:!0,sort:t.sort,columns:t.columns,"selected-field":t.selectedField},on:{rowclick:t.rowClick,itemchange:t.itemChange,remove:t.remove,columnreorder:t.columnReorder,filterchange:t.filterChange,sortchange:t.sortChangeHandler,selectionchange:t.onSelectionChange,headerselectionchange:t.onHeaderSelectionChange},scopedSlots:t._u([{key:"myNumberCell",fn:function(n){var r=n.props;return[e("NumberCell",{attrs:{"data-item":r.dataItem,field:r.field},on:{amountClick:t.amountClick}})]}}])},[e("grid-toolbar",{class:t.toolbarBg},[e("div",[e("div",{staticClass:"d-flex justify-content-between",on:{click:t.closeEdit}},[e("div",[e("div",{staticClass:"d-inline-block"},[e("div",{staticClass:"input-group input-group-sm"},[e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[t._v("From")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.from,expression:"from"}],staticClass:"form-control form-control-sm",attrs:{type:"date"},domProps:{value:t.from},on:{input:function(e){e.target.composing||(t.from=e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"d-inline-block"},[e("div",{staticClass:"input-group input-group-sm"},[e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[t._v("To")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.to,expression:"to"}],staticClass:"form-control form-control-sm",attrs:{type:"date"},domProps:{value:t.to},on:{input:function(e){e.target.composing||(t.to=e.target.value)}}})])]),t._v(" "),e("button",{staticClass:"btn btn-dark btn-sm btn-sized",attrs:{title:"Ctrl+M"},on:{click:function(e){return e.stopPropagation(),t.refreshData.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-download"}),t._v(" Load\n            ")])]),t._v(" "),e("div",[e("user-details",{attrs:{name:"User",value:t.UserName}}),t._v(" "),e("user-details",{attrs:{name:"Branch",value:t.Company}})],1)]),t._v(" "),e("div",{staticClass:"d-flex justify-content-between",on:{click:t.closeEdit}},[e("div",[e("button",{staticClass:"btn btn-dark btn-sm btn-sized",attrs:{title:"Ctrl+Space"},on:{click:function(e){return e.stopPropagation(),t.addRecord.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-user-plus"}),t._v(" Ajouter\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-dark btn-sm btn-sized",attrs:{title:"Ctrl+Enter"},on:{click:function(e){return e.stopPropagation(),t.saveChanges.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-save"}),t._v("\n              Save\n              "),e("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.waitingForSave))])]),t._v(" "),e("button",{staticClass:"btn btn-dark btn-sm btn-sized",attrs:{title:"Ctrl+B"},on:{click:function(e){return e.stopPropagation(),t.cancelChanges.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-undo"}),t._v(" Annuler\n            ")]),t._v(" "),e("button",{staticClass:"btn btn-dark btn-sm btn-sized",attrs:{title:"Filter"},on:{click:function(e){e.stopPropagation(),t.enableFilter=!t.enableFilter}}},[e("i",{staticClass:"fa fa-filter"}),t._v(" Filter\n            ")]),t._v(" "),t.selectedCount>0?e("button",{staticClass:"btn btn-info btn-sm",on:{click:function(e){return e.stopPropagation(),t.sendBatch.apply(null,arguments)}}},[t._v("Send to "+t._s(t.selectedCount)+" Seleted")]):t._e()]),t._v(" "),e("div",[e("button",{staticClass:"btn btn-dark btn-sm btn-sized",on:{click:function(e){return e.stopPropagation(),t.exportExcel.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-file-excel"}),t._v(" Excel\n            ")]),t._v(" "),e("div",{staticClass:"d-inline-block"},[e("div",{staticClass:"input-group input-group-sm mb-3"},[e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[t._v("Total")])]),t._v(" "),e("input",{staticClass:"form-control",staticStyle:{width:"130px"},attrs:{type:"text",disabled:""},domProps:{value:new Intl.NumberFormat("en-US").format(t.total)}})])])])])])])],1),t._v(" "),t.loading?e("loading"):t._e(),t._v(" "),null!=t.waitingForResponse?e("div",{staticClass:"sending p-3 card bg-success text-white"},[e("span",[e("i",{staticClass:"fa fa-spinner fa-spin"}),t._v(" "),t.verifying?e("span",[t._v("Verifying")]):e("span",[t._v("Sending")]),t._v(" \n      "+t._s(t.waitingForResponse.MVAmount)+" "+t._s(t.waitingForResponse.MVCurrency)+" to "+t._s(t.waitingForResponse.MVNumber)+"\n    ")])]):t._e()],1)}),[],!1,null,"714fe997",null).exports);function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(n),!0).forEach((function(e){bt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=vt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wt={data:function(){return{loading:!1,items:[],columns:[{field:"id",filterable:!1,editable:!1,title:"#",width:"80px"},{field:"number",width:"150px",title:"Sent From",editable:!1},{field:"text",title:"Message",cell:F},{field:"time",width:"300px",title:"Time"},{field:"database",title:"Database",cell:E,width:"100px",filterable:!1}],filter:null,sort:[],from:(new Date).toISOString().split("T")[0],to:(new Date).toISOString().split("T")[0]}},mounted:function(){this.loadItems(!0),this.addKeyHandler()},computed:yt(yt({getData:function(){return Object(I.c)(Object(I.a)(this.items,this.filter),this.sort)}},Object(c.d)({UserName:function(t){return t.auth.UserName},Company:function(t){return t.auth.Company},sms:function(t){return t.sms.sms}})),{},{waitingForSave:function(){var t=0;return this.items.forEach((function(e){e.database||t++})),S(t),t}}),methods:yt(yt({},Object(c.b)({getSms:"sms/loadData",saveSms:"sms/saveData"})),{},{refreshData:function(){this.loadItems()},loadItemsFromState:function(){this.items=this.sms.map((function(t){return t})),this.loading=!1},loadItems:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loading=!0,e?this.loadItemsFromState():this.getSms({from:this.from,to:this.to}).then((function(e){t.loadItemsFromState()})).catch((function(e){t.$toasted.global.my_app_error({message:"Erreur!!!"}),t.loading=!1}))},saveToDB:function(){var t=this;this.loading=!0,this.saveSms().then((function(e){t.refreshData(),t.loading=!1})).catch((function(e){console.log(e),t.loading=!1}))},filterChange:function(t){this.filter=t.filter},columnReorder:function(t){this.columns=t.columns},sortChangeHandler:function(t){this.sort=t.sort},addKeyHandler:function(t){window.addEventListener("keydown",this.keyHandler)},removeKeyHandler:function(){window.removeEventListener("keydown",this.keyHandler)},keyHandler:function(t){var e=t.which||t.keyCode;13===e&&t.ctrlKey&&this.saveToDB(),77===e&&t.ctrlKey&&this.refreshData()}}),beforeDestroy:function(){this.removeKeyHandler()},beforeRouteLeave:function(t,e,n){if(this.waitingForSave){var r=this;this.$dialog.confirm({title:"Do you want to leave ?",body:"You have to backup sms before leaving!!!"},{okText:"Save changes",cancelText:"Leave"}).then((function(){console.log("ok"),r.saveToDB()})).catch((function(){console.log("cancel"),n()}))}else n()}},xt=Object(p.a)(wt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"h-100"},[e("Grid",{ref:"grid",style:{height:"100%"},attrs:{"data-items":t.getData,resizable:!0,reorderable:!0,filterable:!0,filter:t.filter,sortable:!0,sort:t.sort,columns:t.columns},on:{columnreorder:t.columnReorder,filterchange:t.filterChange,sortchange:t.sortChangeHandler}},[e("grid-toolbar",{staticClass:"bg-danger"},[e("div",{staticClass:"d-flex justify-content-between"},[e("div",[e("div",{staticClass:"d-inline-block"},[e("div",{staticClass:"input-group input-group-sm"},[e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[t._v("From")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.from,expression:"from"}],staticClass:"form-control form-control-sm",attrs:{type:"date"},domProps:{value:t.from},on:{input:function(e){e.target.composing||(t.from=e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"d-inline-block"},[e("div",{staticClass:"input-group input-group-sm"},[e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[t._v("To")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.to,expression:"to"}],staticClass:"form-control form-control-sm",attrs:{type:"date"},domProps:{value:t.to},on:{input:function(e){e.target.composing||(t.to=e.target.value)}}})])]),t._v(" "),e("button",{staticClass:"btn btn-dark btn-sm btn-sized",attrs:{title:"Ctrl+M"},on:{click:function(e){return e.stopPropagation(),t.refreshData.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-download"}),t._v(" Load\n          ")]),t._v(" "),e("button",{staticClass:"btn btn-dark btn-sm btn-sized",attrs:{title:"Ctrl+Enter"},on:{click:function(e){return e.stopPropagation(),t.saveToDB.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-save"}),t._v("\n            Backup to DB\n            "),e("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.waitingForSave))])])]),t._v(" "),e("div",[e("user-details",{attrs:{name:"User",value:t.UserName}}),t._v(" "),e("user-details",{attrs:{name:"Branch",value:t.Company}})],1)])])],1),t._v(" "),t.loading?e("loading"):t._e()],1)}),[],!1,null,null,null).exports;function St(t){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ct(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ct(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ot(){Ot=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),s=new j(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",p="executing",m="completed",h={};function v(){}function g(){}function y(){}var b={};u(b,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(P([])));x&&x!==n&&r.call(x,a)&&(b=x);var S=y.prototype=v.prototype=Object.create(b);function I(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==St(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=D(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?m:"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function D(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,D(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(St(e)+" is not iterable")}return g.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},I(C.prototype),u(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new C(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},I(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}function Dt(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function _t(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Dt(i,r,o,a,s,"next",t)}function s(t){Dt(i,r,o,a,s,"throw",t)}a(void 0)}))}}function kt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(n),!0).forEach((function(e){Pt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=St(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=St(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==St(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tt={data:function(){return{loading:!1,items:[],editID:null,columns:[{field:"PhoneNumber",title:"Phone Number",filterable:!0},{field:"Type",title:"Type",cell:V},{field:"Note",title:"Note"},{title:"Del",filterable:!1,cell:L,width:"60px",locked:!0}],filter:{logic:"and",filters:[]},sort:[],nextId:1e6,provider:window.myprovider}},mounted:function(){this.loadItems(!0),this.addKeyHandler()},computed:jt(jt({usersList:function(){var t=this;return this.items.map((function(e){return Object.assign({inEdit:e.PhoneTypeID===t.editID},e)}))},getData:function(){return Object(I.c)(Object(I.a)(this.usersList,this.filter),this.sort)}},Object(c.d)({users:function(t){return t.phone_types.phone_types},UserName:function(t){return t.auth.UserName},Company:function(t){return t.auth.Company}})),{},{waitingForSave:function(){var t=0;return this.items.forEach((function(e){(e.edited||e.deleted||e.new)&&t++})),S(t),t}}),methods:jt(jt({},Object(c.b)({getUsers:"phone_types/getUsers"})),{},{refreshData:function(){this.loadItems()},loadItemsFromState:function(){this.items=this.users.map((function(t){return Object.assign({new:!1,edited:!1,deleted:!1},t)})),this.loading=!1,this.editID=null},loadItems:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loading=!0,e?this.loadItemsFromState():this.getUsers().then((function(e){t.loadItemsFromState()})).catch((function(e){var n=e.response;n?t.$toasted.global.my_app_error({message:"".concat(n.data.message," (status: ").concat(n.status,")")}):t.$toasted.global.my_app_error({message:"Erreur réseau, veuillez vérifier votre connexion internet!"}),t.loading=!1}))},itemChange:function(t){var e=t.field,n=t.value,r=this.items.slice(),o=r.findIndex((function(e){return e.PhoneTypeID===t.dataItem.PhoneTypeID}));if(["Company"].includes(e)){var i=n.foreignKey,a=n.foreignKeyValue,s=n.value;r[o]=jt(jt({},r[o]),{},Pt(Pt({},e,s),i,a))}else r[o]=jt(jt({},r[o]),{},Pt({},e,n));var c=this.users.slice(),u=c.findIndex((function(e){return e.PhoneTypeID===t.dataItem.PhoneTypeID}));r[o].new||(!function(t,e){var n=C(t.PhoneTypeID,e.PhoneTypeID),r=C(t.PhoneNumber,e.PhoneNumber),o=C(t.Type,e.Type),i=C(t.Note,e.Note);return n&&r&&o&&i}(r[o],c[u])?r[o].edited=!0:r[o].edited=!1),this.items=r,console.log(r),this.$set(t.dataItem,e,n)},rowClick:function(t){var e=this;if(this.editID){var n=this.items.slice().find((function(t){return t.PhoneTypeID==e.editID}));if(!this.validateRow(n))return void this.alert()}t.dataItem.deleted||(this.editID=t.dataItem.PhoneTypeID,this.$set(t.dataItem,"inEdit",!0),this.$nextTick((function(){})))},closeEdit:function(t){t.target===t.currentTarget&&(this.editID=null)},nextRow:function(t){var e=this,n=this.items.slice();if(this.editID){var r=n.find((function(t){return t.PhoneTypeID==e.editID}));if(!this.validateRow(r))return void this.alert()}var o=n.findIndex((function(e){return e.PhoneTypeID==t.PhoneTypeID}));this.editID=null,o++,n.length===o||this.$nextTick((function(){n[o].deleted||!n[o].new&&n[o].WeekFID!=e.currentWeek.WeekID||(e.editID=n[o].PhoneTypeID)}))},addRecord:function(t){this.nextId++;var e={PhoneTypeID:this.nextId,new:!0},n=this.items.slice();this.validateRow(n[0])?(n.unshift(e),this.items=n,this.editID=e.PhoneTypeID,this.$nextTick((function(){document.querySelector("tr.k-master-row").firstChild.firstChild.focus()}))):this.alert()},remove:function(t){if(confirm("Voulez-vous supprimer cette entrée ?")){var e=this.items.slice(),n=e.findIndex((function(e){return e.PhoneTypeID===t.dataItem.PhoneTypeID}));e[n].new?e.splice(n,1):e[n].deleted=!0,this.items=e}},saveChanges:function(){var t=this;if(this.editID){var e=this.items.slice().find((function(e){return e.PhoneTypeID==t.editID}));if(!this.validateRow(e))return void this.alert()}var n=this;this.editID=null,this.loading=!0;var r={destroy:this.items.filter((function(t){return t.deleted})),update:this.items.filter((function(t){return t.edited})),store:this.items.filter((function(t){return t.new}))};function o(t){var e="phone_types/"+t;return new Promise((function(o,i){r[t].length?n.$store.dispatch(e,r[t]).then((function(e){"store"==t&&console.log("end store ",e),"update"==t&&console.log("end update ",e),"destroy"==t&&console.log("end destroy ",e),o()})):o()}))}function i(t){return a.apply(this,arguments)}function a(){return(a=_t(Ot().mark((function t(e){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(e);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function s(){return(s=_t(Ot().mark((function t(e){var r,o,a;return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=It(e),t.prev=1,r.s();case 3:if((o=r.n()).done){t.next=9;break}return a=o.value,t.next=7,i(a);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r.e(t.t0);case 14:return t.prev=14,r.f(),t.finish(14);case 17:n.loadItems(),n.editID=null,n.loading=!1,console.log("Done! 11");case 21:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})))).apply(this,arguments)}!function(t){s.apply(this,arguments)}(["store","update","destroy"])},cancelChanges:function(){confirm("Voulez-vous annuler les modifications?")&&(this.items=this.users.map((function(t){return Object.assign({new:!1,edited:!1,deleted:!1},t)})),this.editID=null)},filterChange:function(t){this.filter=t.filter},columnReorder:function(t){this.columns=t.columns},sortChangeHandler:function(t){this.sort=t.sort},validateRow:function(t){if(null!=t){if(t.PhoneNumber){if(t.PhoneNumber.length<9||t.PhoneNumber.length>10)return this.$toasted.info("This is an invalid number",{action:{text:"Fermer",onClick:function(t,e){e.goAway(0)}},duration:5e3,position:"bottom-center"}),!1;if(!nt[this.provider](t.PhoneNumber))return this.$toasted.info("This is an invalid ".concat(this.provider," number beginning without 0"),{action:{text:"Fermer",onClick:function(t,e){e.goAway(0)}},duration:5e3,position:"bottom-center"}),!1}return!!t.PhoneNumber&&!!t.Type}return!0},addKeyHandler:function(t){window.addEventListener("keydown",this.keyHandler)},removeKeyHandler:function(){window.removeEventListener("keydown",this.keyHandler)},keyHandler:function(t){var e=t.which||t.keyCode;13===e&&t.ctrlKey&&this.saveChanges(),32===e&&t.ctrlKey&&this.addRecord()},alert:function(){this.$toasted.info("Veuillez remplir les champs obligatoires!!! ( PhoneNumber, Type)",{action:{text:"Fermer",onClick:function(t,e){e.goAway(0)}},duration:5e3,position:"bottom-center"})}}),beforeDestroy:function(){D.$off("tab-pressed",this.nextRow),this.removeKeyHandler()},beforeRouteLeave:function(t,e,n){this.waitingForSave?confirm("Voulez-vous partir sans enregistrer ?")?n():n(!1):n()}},Et=Object(p.a)(Tt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"h-100"},[e("Grid",{ref:"grid",style:{height:"100%"},attrs:{"data-items":t.getData,"edit-field":"inEdit",resizable:!0,reorderable:!0,filterable:!0,filter:t.filter,sortable:!0,sort:t.sort,columns:t.columns},on:{rowclick:t.rowClick,itemchange:t.itemChange,remove:t.remove,columnreorder:t.columnReorder,filterchange:t.filterChange,sortchange:t.sortChangeHandler}},[e("grid-toolbar",{staticClass:"bg-danger"},[e("div",{staticClass:"d-flex justify-content-between",on:{click:t.closeEdit}},[e("div",[e("button",{staticClass:"btn btn-dark btn-sm btn-sized",attrs:{title:"Ctrl+Space"},on:{click:t.addRecord}},[e("i",{staticClass:"fa fa-user-plus"}),t._v(" Ajouter\n                    ")]),t._v(" "),e("button",{staticClass:"btn btn-dark btn-sm btn-sized",attrs:{title:"Ctrl+Enter"},on:{click:t.saveChanges}},[e("i",{staticClass:"fa fa-save"}),t._v(" \n                        Save \n                        "),e("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.waitingForSave))])]),t._v(" "),e("button",{staticClass:"btn btn-dark btn-sm btn-sized",attrs:{title:"Refresh"},on:{click:t.refreshData}},[e("i",{staticClass:"fa fa-download"}),t._v(" Load\n                    ")])]),t._v(" "),e("div",[e("button",{staticClass:"btn btn-dark btn-sm btn-sized",attrs:{title:"Cancel Changes"},on:{click:t.cancelChanges}},[e("i",{staticClass:"fa fa-undo"}),t._v(" Annuler\n                    ")]),t._v(" "),e("user-details",{attrs:{name:"User",value:t.UserName}}),t._v(" "),e("user-details",{attrs:{name:"Branch",value:t.Company}})],1)])])],1),t._v(" "),t.loading?e("loading"):t._e()],1)}),[],!1,null,null,null).exports,Nt={namespaced:!0,state:{UserName:localStorage.getItem("UserName")||"",UserID:localStorage.getItem("UserID")||"",AccessToken:localStorage.getItem("AccessToken")||"",Admin:localStorage.getItem("Admin")||0,status:"",Company:localStorage.getItem("Company")||""},getters:{isAuthenticated:function(t){return!!t.AccessToken},authStatus:function(t){return t.status},isSuperAdmin:function(t){return 1==t.Admin},isSimpleAdmin:function(t){return 2==t.Admin||1==t.Admin}},actions:{login:function(t,e){var n=t.commit;return new Promise((function(t,r){n("authRequest"),Object(Q.a)({url:"/api/v1/login",data:e,method:"POST"}).then((function(e){n("authSuccess"),t(e)})).catch((function(t){n("authError",t),localStorage.removeItem("AccessToken"),localStorage.removeItem("UserID"),localStorage.removeItem("UserName"),localStorage.removeItem("Admin"),localStorage.removeItem("LoginTime"),localStorage.removeItem("Company"),r(t)}))}))},verifyCode:function(t,e){var n=t.commit;return new Promise((function(t,r){n("authRequest"),Object(Q.a)({url:"/api/v1/verifyCode",data:e,method:"POST"}).then((function(e){var r=e.data.AccessToken;Q.a.defaults.headers.common.Authorization="Bearer "+r;var o=e.data.UserID,i=e.data.UserName,a=e.data.Admin,s=e.data.Company;localStorage.setItem("AccessToken","Bearer "+r),localStorage.setItem("UserID",o),localStorage.setItem("UserName",i),localStorage.setItem("Admin",a),localStorage.setItem("LoginTime",new Date),localStorage.setItem("Company",s),n("authData",e.data),n("authSuccess"),t(e)})).catch((function(t){n("authError",t),localStorage.removeItem("AccessToken"),localStorage.removeItem("UserID"),localStorage.removeItem("UserName"),localStorage.removeItem("Admin"),localStorage.removeItem("LoginTime"),localStorage.removeItem("Company"),r(t)}))}))},logout:function(t){var e=t.commit,n=t.dispatch;t.rootState;e("logout"),Q.a.get("/api/v1/logout"),localStorage.removeItem("AccessToken"),localStorage.removeItem("UserID"),localStorage.removeItem("UserName"),localStorage.removeItem("Admin"),localStorage.removeItem("LoginTime"),localStorage.removeItem("Company"),delete Q.a.defaults.headers.common.Authorization,n("companies/clearState",null,{root:!0}),n("currencies/clearState",null,{root:!0}),n("mvOrange/clearState",null,{root:!0}),n("users/clearState",null,{root:!0}),me.push("/login")},checkTime:function(){return new Promise((function(t){var e=new Date(localStorage.getItem("LoginTime"));t(new Date-e>18e5)}))}},mutations:{authRequest:function(t){t.status="loading"},authSuccess:function(t){t.status="success"},authData:function(t,e){t.AccessToken=e.AccessToken,t.UserID=e.UserID,t.UserName=e.UserName,t.Company=e.Company,t.Admin=e.Admin},authError:function(t){t.status="error"},logout:function(t){t.status="",t.AccessToken="",t.UserID="",t.UserName="",t.Admin=0,t.Company=""}}};function Lt(t){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function At(){At=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),s=new j(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",p="executing",m="completed",h={};function v(){}function g(){}function y(){}var b={};u(b,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(P([])));x&&x!==n&&r.call(x,a)&&(b=x);var S=y.prototype=v.prototype=Object.create(b);function I(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Lt(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=D(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?m:"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function D(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,D(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Lt(e)+" is not iterable")}return g.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},I(C.prototype),u(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new C(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},I(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}function Ft(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Ut(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ft(i,r,o,a,s,"next",t)}function s(t){Ft(i,r,o,a,s,"throw",t)}a(void 0)}))}}function $t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$t(Object(n),!0).forEach((function(e){Vt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Lt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Lt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mt={namespaced:!0,state:{users:[]},getters:{},actions:{getUsers:function(t){var e=t.commit;return new Promise((function(t,n){Object(Q.a)("/api/v1/user").then((function(n){e("usersData",n.data),t(n)})).catch((function(t){n(t)}))}))},store:function(t,e){t.state;return new Promise((function(t){var n={success:[],failed:[]};function r(t){return Q.a.post("/api/v1/user",Rt({},t))}function o(t){return i.apply(this,arguments)}function i(){return(i=Ut(At().mark((function t(e){var o;return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r(e);case 3:o=t.sent,n.success.push(Rt(Rt({},o),{},{fakeId:e.UserID})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n.failed.push(Rt(Rt({},t.t0.response),{},{fakeId:e.UserID}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function a(){return(a=Ut(At().mark((function e(r){var i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.map(o),e.next=3,Promise.all(i);case 3:t(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){a.apply(this,arguments)}(e)}))},update:function(t,e){t.state;return new Promise((function(t){var n=[];function r(t){return Q.a.post("/api/v1/userUpdate/"+t.UserID,Rt({},t))}function o(t){return i.apply(this,arguments)}function i(){return(i=Ut(At().mark((function t(e){var o;return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r(e);case 3:o=t.sent,n.push(o),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n.push(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function a(){return(a=Ut(At().mark((function e(r){var i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.map(o),e.next=3,Promise.all(i);case 3:t(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){a.apply(this,arguments)}(e)}))},destroy:function(t,e){t.state;return new Promise((function(t){var n=[];function r(t){return Q.a.get("/api/v1/userDelete/"+t.UserID)}function o(t){return i.apply(this,arguments)}function i(){return(i=Ut(At().mark((function t(e){var o;return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r(e);case 3:o=t.sent,n.push(o),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n.push(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function a(){return(a=Ut(At().mark((function e(r){var i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.map(o),e.next=3,Promise.all(i);case 3:t(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){a.apply(this,arguments)}(e)}))},clearState:function(t){(0,t.commit)("clearState")}},mutations:{usersData:function(t,e){t.users=e.data},clearState:function(t){t.users=[]}}};function Ht(t){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bt(){Bt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),s=new j(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",p="executing",m="completed",h={};function v(){}function g(){}function y(){}var b={};u(b,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(P([])));x&&x!==n&&r.call(x,a)&&(b=x);var S=y.prototype=v.prototype=Object.create(b);function I(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Ht(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=D(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?m:"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function D(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,D(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Ht(e)+" is not iterable")}return g.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},I(C.prototype),u(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new C(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},I(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}function Gt(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function zt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Gt(i,r,o,a,s,"next",t)}function s(t){Gt(i,r,o,a,s,"throw",t)}a(void 0)}))}}function Kt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kt(Object(n),!0).forEach((function(e){qt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Ht(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ht(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wt={namespaced:!0,state:{phone_types:[]},getters:{},actions:{getUsers:function(t){var e=t.commit;return new Promise((function(t,n){Object(Q.a)("/api/v1/phone_types").then((function(n){console.log(n),e("phoneTypesData",n.data),t(n)})).catch((function(t){n(t)}))}))},store:function(t,e){t.state;return new Promise((function(t){var n={success:[],failed:[]};function r(t){return Q.a.post("/api/v1/phone_types",Yt({},t))}function o(t){return i.apply(this,arguments)}function i(){return(i=zt(Bt().mark((function t(e){var o;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r(e);case 3:o=t.sent,n.success.push(Yt(Yt({},o),{},{fakeId:e.PhoneTypeID})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n.failed.push(Yt(Yt({},t.t0.response),{},{fakeId:e.PhoneTypeID}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function a(){return(a=zt(Bt().mark((function e(r){var i;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.map(o),e.next=3,Promise.all(i);case 3:t(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){a.apply(this,arguments)}(e)}))},update:function(t,e){t.state;return new Promise((function(t){var n=[];function r(t){return Q.a.post("/api/v1/phoneTypeUpdate/"+t.PhoneTypeID,Yt({},t))}function o(t){return i.apply(this,arguments)}function i(){return(i=zt(Bt().mark((function t(e){var o;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r(e);case 3:o=t.sent,n.push(o),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n.push(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function a(){return(a=zt(Bt().mark((function e(r){var i;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.map(o),e.next=3,Promise.all(i);case 3:t(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){a.apply(this,arguments)}(e)}))},destroy:function(t,e){t.state;return new Promise((function(t){var n=[];function r(t){return Q.a.get("/api/v1/phoneTypeDelete/"+t.PhoneTypeID)}function o(t){return i.apply(this,arguments)}function i(){return(i=zt(Bt().mark((function t(e){var o;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r(e);case 3:o=t.sent,n.push(o),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n.push(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function a(){return(a=zt(Bt().mark((function e(r){var i;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.map(o),e.next=3,Promise.all(i);case 3:t(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){a.apply(this,arguments)}(e)}))},clearState:function(t){(0,t.commit)("clearState")}},mutations:{phoneTypesData:function(t,e){t.phone_types=e.data},clearState:function(t){t.phone_types=[]}}},Xt={namespaced:!0,state:{companies:[]},getters:{},actions:{getCompanies:function(t){var e=t.commit;return new Promise((function(t,n){Object(Q.a)("/api/v1/company").then((function(n){console.log("company",n.data),e("companiesData",n.data),t(n)})).catch((function(t){n(t)}))}))},clearState:function(t){(0,t.commit)("clearState")}},mutations:{companiesData:function(t,e){t.companies=e.data},clearState:function(t){t.companies=[]}}},Jt={namespaced:!0,state:{currencies:[],selected:null},getters:{},actions:{getCurrencies:function(t){var e=t.commit;return new Promise((function(t,n){Object(Q.a)("/api/v1/currency").then((function(n){console.log("currencies",n.data),e("currenciesData",n.data),t(n)})).catch((function(t){n(t)}))}))},selectCurrency:function(t,e){(0,t.commit)("select",e)},clearState:function(t){(0,t.commit)("clearState")}},mutations:{currenciesData:function(t,e){t.currencies=e.data},select:function(t,e){t.selected=e},clearState:function(t){t.currencies=[],t.selected=null}}};function Zt(t){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qt(){Qt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),s=new j(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",p="executing",m="completed",h={};function v(){}function g(){}function y(){}var b={};u(b,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(P([])));x&&x!==n&&r.call(x,a)&&(b=x);var S=y.prototype=v.prototype=Object.create(b);function I(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Zt(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=D(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?m:"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function D(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,D(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Zt(e)+" is not iterable")}return g.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},I(C.prototype),u(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new C(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},I(S),u(S,c,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}function te(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function ee(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){te(i,r,o,a,s,"next",t)}function s(t){te(i,r,o,a,s,"throw",t)}a(void 0)}))}}function ne(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ne(Object(n),!0).forEach((function(e){oe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oe(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Zt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Zt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Zt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ie={namespaced:!0,state:{fc:[],usd:[],fcTotal:0,usdTotal:0},getters:{},actions:{getMvOranges:function(t,e){var n=t.commit;t.dispatch;return new Promise((function(t,r){Object(Q.a)(et,{params:{currency:e.currency.CurrencyID,from:e.from,to:e.to}}).then((function(r){n("setTotal",{currency:e.currency.Currency,total:r.data.total}),n("mvOrangesData",{data:r.data.data,currency:e.currency.Currency}),t(r)})).catch((function(t){r(t)}))}))},store:function(t,e){t.state;var n=t.rootState;if(n.currencies.selected)return new Promise((function(t){var r={success:[],failed:[]};function o(t){return Q.a.post(et,re(re({},t),{},{currency:n.currencies.selected.CurrencyID}))}function i(t){return a.apply(this,arguments)}function a(){return(a=ee(Qt().mark((function t(e){var n;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o(e);case 3:n=t.sent,r.success.push(re(re({},n),{},{fakeId:e.TransactionID})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r.failed.push(re(re({},t.t0.response),{},{fakeId:e.TransactionID}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function s(){return(s=ee(Qt().mark((function e(n){var o;return Qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.map(i),e.next=3,Promise.all(o);case 3:t(r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){s.apply(this,arguments)}(e)}))},update:function(t,e){t.state;return new Promise((function(t){var n=[];function r(t){return Q.a.post("/api/v1/transactionUpdate/"+t.TransactionID,re({},t))}function o(t){return i.apply(this,arguments)}function i(){return(i=ee(Qt().mark((function t(e){var o;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r(e);case 3:o=t.sent,n.push(o),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n.push(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function a(){return(a=ee(Qt().mark((function e(r){var i;return Qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.map(o),e.next=3,Promise.all(i);case 3:t(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){a.apply(this,arguments)}(e)}))},destroy:function(t,e){t.state;return new Promise((function(t){var n=[];function r(t){return console.log(t),Q.a.get("/api/v1/transactionDelete/"+t.TransactionID)}function o(t){return i.apply(this,arguments)}function i(){return(i=ee(Qt().mark((function t(e){var o;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r(e);case 3:o=t.sent,n.push(o),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n.push(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function a(){return(a=ee(Qt().mark((function e(r){var i;return Qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.map(o),e.next=3,Promise.all(i);case 3:t(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){a.apply(this,arguments)}(e)}))},clearState:function(t){(0,t.commit)("clearState")}},mutations:{mvOrangesData:function(t,e){t[e.currency.toLowerCase()]=e.data},setTotal:function(t,e){t[e.currency.toLowerCase()+"Total"]=e.total},clearState:function(t){t.usd=[],t.fc=[],t.totalFc=0,t.totalUsd=0}}},ae={namespaced:!0,state:{status:""},getters:{},actions:{loadData:function(t){var e=t.commit,n=t.dispatch;return new Promise((function(t,r){e("dataRequest"),n("companies/getCompanies",null,{root:!0}).then((function(t){return n("currencies/getCurrencies",null,{root:!0})})).then((function(n){e("dataSuccess"),t(n)})).catch((function(t){e("dataError"),r(t)}))}))},resetState:function(t){(0,t.commit)("reset")}},mutations:{reset:function(t){t.datacount=COUNT},dataRequest:function(t){t.status="loading"},dataSuccess:function(t){t.status="success"},dataError:function(t){t.status="error"}}};function se(t){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ce(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ue(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ce(Object(n),!0).forEach((function(e){le(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function le(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=se(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==se(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fe={namespaced:!0,state:{sms:[]},getters:{},actions:{loadData:function(t,e){var n=t.commit,r=e.from,o=e.to;return new Promise((function(t,e){window.readAllData("sms").then((function(e){var i=e.filter((function(t){var e=new Date(t.time).toISOString().split("T")[0];return r<=e&&e<=o}));n("load",i),t()})).catch((function(t){e(t)}))}))},saveData:function(t){t.state;return new Promise((function(t,e){var n=[];window.readAllData("sms").then((function(t){n=t;var e=t.filter((function(t){return!t.database}));return Q.a.post("/api/v1/sms",e.reverse())})).then((function(e){var r=new Date;r.setDate(r.getDate()-7),r=r.toISOString().split("T")[0],n.forEach((function(t){window.writeData("sms",ue(ue({},t),{},{database:!0})),new Date(t.time).toISOString().split("T")[0]<r&&window.deleteItemFromData("sms",t.id)})),t(e)})).catch((function(t){e(t)}))}))}},mutations:{load:function(t,e){t.sms=e.reverse()}}};o.a.use(c.a);var de=new c.a.Store({modules:{auth:Nt,users:Mt,companies:Xt,currencies:Jt,mvOrange:ie,data:ae,sms:fe,phone_types:Wt},strict:!1});o.a.use(s.a);var pe=new s.a({mode:"history",routes:[{path:"/",component:x,meta:{requiresAuth:!0},children:[{path:"",name:"Home",redirect:"/transactions/usd"},{path:"transactions/:currency",name:"Transactions",component:ht},{path:"sms",name:"SMS",component:xt,meta:{requiresSimpleAdmin:!0}},{path:"phone_types",name:"Phone Type",component:Et,meta:{requiresSimpleAdmin:!0}},{path:"users",name:"Users",component:J,meta:{requiresSuperAdmin:!0}}]},{path:"/login",name:"login",component:m,meta:{requiresGuest:!0}},{path:"*",redirect:"/absences"}]});pe.beforeEach((function(t,e,n){t.matched.some((function(t){return t.meta.requiresAuth}))?null==localStorage.getItem("AccessToken")?n({path:"/login",params:{nextUrl:t.fullPath}}):de.dispatch("auth/checkTime").then((function(t){t?de.dispatch("auth/logout"):(localStorage.setItem("LoginTime",new Date),n())})):n(),t.matched.some((function(t){return t.meta.requiresGuest}))&&null!=localStorage.getItem("AccessToken")?n({path:"/"}):n(),t.matched.some((function(t){return t.meta.requiresSuperAdmin}))?de.getters["auth/isSuperAdmin"]?n():n({path:"/"}):n(),t.matched.some((function(t){return t.meta.requiresSimpleAdmin}))?de.getters["auth/isSimpleAdmin"]?n():n({path:"/"}):n()}));var me=pe,he={watch:{isAppIdle:function(){this.isAppIdle&&localStorage.getItem("AccessToken")&&this.$store.dispatch("auth/logout")}}},ve=(n("pbw4"),Object(p.a)(he,(function(){var t=this._self._c;return t("div",{attrs:{id:"main"}},[t("router-view")],1)}),[],!1,null,null,null).exports),ge=n("pl0M"),ye=n.n(ge),be=n("BXbG"),we=n.n(be),xe=n("A6WO"),Se=n.n(xe),Ie=(n("xcXr"),n("cFE2"),n("ccID")),Ce={},Oe=(n("jfVx"),Object(p.a)(Ce,(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",{attrs:{id:"loading"}},[t("div",{staticClass:"loading"},[t("div",{staticClass:"loading-bar"}),this._v(" "),t("div",{staticClass:"loading-bar"}),this._v(" "),t("div",{staticClass:"loading-bar"}),this._v(" "),t("div",{staticClass:"loading-bar"})])])}],!1,null,null,null).exports),De={props:["currency"],data:function(){return{port:"",cmds:[]}},mounted:function(){this.fetch()},watch:{currency:function(){this.fetch()},port:function(t){localStorage.setItem("port",t)},cmds:function(t){localStorage.setItem(this.currency+"-cmds",JSON.stringify(t))}},methods:{fetch:function(){this.port=localStorage.getItem("port")?localStorage.getItem("port"):"",this.cmds=localStorage.getItem(this.currency+"-cmds")?JSON.parse(localStorage.getItem(this.currency+"-cmds")):[]},removeCmd:function(t){this.cmds.splice(t,1)},addCmd:function(t){this.cmds.push(t.target.value),t.target.value=""}}},_e=Object(p.a)(De,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"card text-white bg-secondary mb-3 w-100 h-100"},[e("div",{staticClass:"card-header"},[e("i",{staticClass:"fa fa-cogs"}),t._v(" Configuration "+t._s(t.currency.toUpperCase()))]),t._v(" "),e("div",{staticClass:"card-body"},[e("a",{staticClass:"text-warning",attrs:{href:"http://localhost:5500",target:"_blank"}},[t._v("check ussd server")]),t._v(" "),e("table",{staticClass:"table table-striped table-borderless table-sm text-white"},[e("tbody",[e("tr",[e("td",[t._v("COM")]),t._v(" "),e("td",{attrs:{colspan:"2"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.port,expression:"port"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.port},on:{input:function(e){e.target.composing||(t.port=e.target.value)}}})])]),t._v(" "),t._l(t.cmds,(function(n,r){return e("tr",{key:r},[e("td",[t._v("CMD #"+t._s(r))]),t._v(" "),e("td",[t._v(t._s(n))]),t._v(" "),e("td",[e("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(e){return t.removeCmd(r)}}},[t._v("X")])])])})),t._v(" "),e("tr",[e("td",{attrs:{colspan:"3"}},[e("input",{staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"Press Enter to add a command"},on:{change:t.addCmd}})])])],2)])])])}),[],!1,null,null,null).exports,ke={props:["name","value"]},je=Object(p.a)(ke,(function(){var t=this._self._c;return t("div",{staticClass:"d-inline-block"},[t("div",{staticClass:"input-group input-group-sm mb-3"},[t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[this._v(this._s(this.name))])]),this._v(" "),t("input",{staticClass:"form-control",staticStyle:{width:"109px"},attrs:{type:"text",disabled:""},domProps:{value:this.value}})])])}),[],!1,null,null,null).exports,Pe=n("8tky");o.a.use(a.a,{store:de,idleTime:18e5}),o.a.use(ye.a),o.a.use(we.a),o.a.use(Se.a),o.a.component("Grid",Ie.a),o.a.component("grid-toolbar",Ie.d),o.a.component("loading",Oe),o.a.component("downloadExcel",Pe.a),o.a.component("ussd-config",_e),o.a.component("user-details",je),Q.a.defaults.headers.common.Accept="application/json",Q.a.defaults.headers.common["Content-Type"]="application/json",o.a.prototype.$http=Q.a;var Te=localStorage.getItem("AccessToken");Te&&(Q.a.defaults.headers.common.Authorization=Te);o.a.toasted.register("my_app_error",(function(t){return t.message?"&nbsp; Oops.. "+t.message:"&nbsp; Erreur réseau, veuillez vérifier votre connexion internet!"}),{type:"error",iconPack:"fontawesome",icon:"exclamation-triangle",action:{text:"Fermer",onClick:function(t,e){e.goAway(0)}},duration:15e3,position:"bottom-center"});new o.a({el:"#app",components:{App:ve},router:me,store:de})},dkJI:function(t,e,n){var r=n("21ss");"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(t.exports=r.locals)},fH5D:function(t,e,n){var r=n("3jBW");"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(t.exports=r.locals)},jfVx:function(t,e,n){"use strict";n("fH5D")},oaLZ:function(t,e,n){"use strict";n("RtRO")},pbw4:function(t,e,n){"use strict";n("H0LB")},pyCd:function(t,e){},t5to:function(t,e,n){var r=n("GHTx");"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(t.exports=r.locals)}},[[0,1,2]]]);